{% extends "base.html" %}
{% block styles %}
{% endblock %}
{% block content %}
<div class="container">
    <div class="row user-header">
        <div class="col s12 m8 offset-m2">
            <h2 class="center-align goldman">
                {{ username|capitalize() }}'s Recipes
            </h2>
        </div>
    </div>
        {% for recipe in ownrecipes %}
        <div class="row">
            <div class="col s12 m6">
                <h3 class="center-align">{{ recipe.recipe_name }}</h3>
                <div class="center-align">
                {% if session.user|lower == recipe.created_by|lower %}
                    <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}" class="btn-large">Delete</a>
                    <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" class="btn-large">Edit</a>
                {% endif %}
                </div>
            </div>
            <div class="col s12 m6">
                <img src="{{ recipe.image_url}}" alt="{{recipe.recipe_name}}" class="recipe-pic">
            </div>
        </div>
        <div class="row">
            <div class="col s12 m6">
                <p>
                    <strong> Ingredients :</strong>
                    {% autoescape false %}
                    <ul class="collection">
                        <li class="collection-item red lighten-5">{{ recipe.ingredients|replace(",", "</li><li class='collection-item red lighten-5'>") }}</li>
                    </ul>
                    {% endautoescape %}
                </p>
            </div>
            <div class="col s12 m6">
                <p>
                    <strong> Instructions :</strong>
                    {% autoescape false %}
                    <ul class="collection">
                        <li class="collection-item red lighten-5">{{ recipe.instructions|replace(".", "</li><li class='collection-item red lighten-5'>") }}</li>
                    </ul>
                    {% endautoescape %}
                </p>
            </div>
        </div>
        <div class="row">
        <div class="col s12 center-align">
                <p><strong> Cookware required:</strong> {{ recipe.cookware }}</p>
            </div>
        </div>
        <div class="row">
            <p><strong> Missing something?</strong> View quality cookware needed for this recipe by Haden</p>
            <div class="col s4 center-align">
                {% if "oven" in recipe.cookware %}
                    <a href="https://www.amazon.co.uk/Oven-Sngl-Fan-64L-Timer/dp/B07YZB63Z3/ref=sr_1_7_sspa?dchild=1&keywords=oven&qid=1607180596&sr=8-7-spons&psc=1&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEyNzdDRFRMWlI0QjhZJmVuY3J5cHRlZElkPUEwOTAzNDI1WlFDRE1UU1MxUkZPJmVuY3J5cHRlZEFkSWQ9QTA1MTMyNDQyTzlOODk3V1lUVFImd2lkZ2V0TmFtZT1zcF9tdGYmYWN0aW9uPWNsaWNrUmVkaXJlY3QmZG9Ob3RMb2dDbGljaz10cnVl">
                    <img src="https://images-na.ssl-images-amazon.com/images/I/4147%2BH1OULL._AC_.jpg" alt="oven" class="recipe-pic">
                    <p class="ad-link"> Electric oven £225</p>
                    </a>
                {% endif %}
            </div>
            <div class="col s4 center-align">
                {% if "microwave" in recipe.cookware %}
                    <a href="ZW5jcnlwdGVkUXVhbGlmaWVyPUFEWUs4TVVHMlhTSVImZW5jcnlwdGVkSWQ9QTAwMzM3ODcyOVkzTDRUTVRSSDUwJmVuY3J5cHRlZEFkSWQ9QTAzODM3ODEyWjdGNlBMNERGWkNHJndpZGdldE5hbWU9c3BfYXRmJmFjdGlvbj1jbGlja1JlZGlyZWN0JmRvTm90TG9nQ2xpY2s9dHJ1ZQ">
                    <img src="https://images-na.ssl-images-amazon.com/images/I/719nytTJ4GL._AC_SL1500_.jpg" alt="microwave" class="recipe-pic">
                    <p class="ad-link"> Microwave £105</p>
                    </a>
                {% endif %}
            </div>
        </div>

        <div class="row">
            <div class="col s12">
                <p> <strong>Created by:</strong> {{ recipe.created_by }}</p>
            </div>
        </div>
        {% endfor %}

    <div class="row">
        <div class="col s12 center-align">
            <a href="{{ url_for('add_recipe')}}" class="center-align orange darken-4 btn-large"><i class="fas fa-plus right"></i>Add Recipe</a>
        </div>
    </div>
</div>
{% endblock %}